<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- Generated by Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;Page</span></a></li>
      <li><a href="_xE5_x8F_x91_xE7_x89_x88_xE8_xAF_xB4_xE6_x98_x8E.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="usergroup0.html"><span>Programming&#160;Guide</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F_xE6_xA6_x82_xE8_xA7_x88.html"><span>Samples</span></a></li>
      <li><a href="_xE6_xB3_x95_xE5_xBE_x8B_xE5_xA3_xB0_xE6_x98_x8E.html"><span>Disclaimer</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">Frame Grabber Control</div> </div> </div> <div> <br />
 </div><div>This chapter introduces how to call the SDK APIs to control frame grabbers.</div><div> <div class="mainparams"> <h2 id="前提条件">Prerequisite</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Completed the SDK initialization. See details in <a class="el" href="_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html">SDK Initialization</a>. </div> <div class="mainparams"> <h2 id="枚举采集卡">Step 1 Enumerate Frame Grabbers</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Call <a class="el" href="class_interface_enumerator.html#a3696baeeb9d482cf0b7edeb4823d68a6" title="Enumerates frame grabber.">InterfaceEnumerator.EnumInterfaces</a> and enter the frame grabber tyoe TLayerType to get the frame grabber list of the corresponding type.</div></div><div><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">/*Enumerate frame grabbers*/</span></div><div class="line">List&lt;IInterfaceInfo&gt; ifInfoList = <span class="keyword">null</span>;</div><div class="line"><span class="keywordtype">int</span> ret = <a class="code" href="class_interface_enumerator.html">InterfaceEnumerator</a>.<a class="code" href="class_interface_enumerator.html#a3696baeeb9d482cf0b7edeb4823d68a6">EnumInterfaces</a>(<a class="code" href="group___xE9_x87_x87_xE9_x9B_x86_xE5_x8D_xA1.html#ga51c951f167e5060fb436c60dbc62c16f">InterfaceTLayerType</a>.MvGigEInterface | <a class="code" href="group___xE9_x87_x87_xE9_x9B_x86_xE5_x8D_xA1.html#ga51c951f167e5060fb436c60dbc62c16f">InterfaceTLayerType</a>.MvCXPInterface | <a class="code" href="group___xE9_x87_x87_xE9_x9B_x86_xE5_x8D_xA1.html#ga51c951f167e5060fb436c60dbc62c16f">InterfaceTLayerType</a>.MvXoFInterface, out ifInfoList);</div><div class="line"><span class="keywordflow">if</span>(ret != <a class="code" href="class_mv_error.html">MvError</a>.<a class="code" href="class_mv_error.html#aae781ef0f6a59940c564cc5bcaac1792">MV_OK</a>)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Enum interface fail: {0}&quot;</span>, ret);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Enum interface success!&quot;</span>);</div><div class="line">    <span class="comment">//TODO: Process frame grabber information</span></div><div class="line">}</div></div><!-- fragment --> </div> <div class="mainparams"> <h2 id="创建采集卡实例">Step 2 Create Frame Grabber Instance</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Create frame grabber instance via the following 2 options. <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 1</b>: Call <a class="el" href="class_interface_factory.html#a4f40ada8c0cd745f750e84d88ba56ad6" title="Creates an instance by frame grabber information.">InterfaceFactory.CreateInterface()</a> [1/2] and enter the frame grabber information interfaceInfo to get the frame grabber instance.</p>
<dl class="section attention"><dt>Attention</dt><dd>This API captures the exceptions sent by SDK via try…catch when creating instance fails.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Create frame grabber instance*/</span></div><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">    <a class="code" href="interface_i_interface.html">IInterface</a> <span class="keyword">interface </span>= InterfaceFactory.CreateInterface(interfaceInfo);</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span>(Exception e)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Create interface fail: {0}&quot;</span>,e.Message);</div><div class="line">}</div><div class="line"><span class="comment">//TODO: Open frame grabber, configure frame grabber, etc.</span></div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 2</b>: Call <a class="el" href="class_interface_factory.html#a4f40ada8c0cd745f750e84d88ba56ad6" title="Creates an instance by frame grabber information.">InterfaceFactory.CreateInterface()</a> [2/2] and enter the frame grabber ID interfaceID to get the frame grabber instance.</p>
<dl class="section attention"><dt>Attention</dt><dd>This API captures the exceptions sent by SDK via try…catch when creating instance fails.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Create frame grabber instance*/</span></div><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">    <a class="code" href="interface_i_interface.html">IInterface</a> <span class="keyword">interface </span>= InterfaceFactory.CreateInterface(interfaceID);</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span>(Exception e)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Create interface fail: {0}&quot;</span>,e.Message);</div><div class="line">}</div><div class="line"><span class="comment">//TODO: Turn on frame grabber, configure frame grabber, etc.</span></div></div><!-- fragment -->  </li>
</ul>
</div> <div class="mainparams"> <h2 id="打开采集卡">Step 3 Turn on the Frame Grabber</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">"Turn on the frame grabber" refers to establishing the connection between the frame grabber instance and physical frame grabber, and making the frame grabber instance gaining access to the frame grabber.</div></div><div><div class="subparamswhite"> </div></div><div><div class="subparamswhite">Call <a class="el" href="interface_i_interface.html#a6a0b62cfefbd859c42693779a8aef921" title="Turns on frame grabber.">IInterface.Open()</a> to turn on the frame grabber. When <a class="el" href="class_mv_error.html#aae781ef0f6a59940c564cc5bcaac1792" title="No error.">MvError.MV_OK</a> is returned, the frame grabber is turned on; when other values are returned, turning on frame grabber fails.</div></div><div><div class="subparamswhite"></div></div><div><div class="subparamswhite"><div class="fragment"><div class="line"><span class="comment">/*Turn on the frame grabber*/</span></div><div class="line"><span class="keywordtype">int</span> ret = interface.Open();</div><div class="line"><span class="keywordflow">if</span>(ret != <a class="code" href="class_mv_error.html">MvError</a>.<a class="code" href="class_mv_error.html#aae781ef0f6a59940c564cc5bcaac1792">MV_OK</a>)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Open interface fail: {0}&quot;</span>, ret);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Open interface success!&quot;</span>);</div><div class="line">    <span class="comment">// TODO: Configure frame grabber, etc.</span></div><div class="line">}</div></div><!-- fragment --> </div> <div class="mainparams"> <h2 id="获取事件">(Optional) Step 4 Get Events and Configure Parameters as Needed</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">After the frame grabber is turned on:</div></div><div><div class="subparamswhite"> <ul>
<li>
<p class="startli"></p>
<p class="interli">Call SDK APIs to get frame grabber events. See details in <a class="el" href="_xE8_x8E_xB7_xE5_x8F_x96_xE4_xBA_x8B_xE4_xBB_xB6.html">Event Acquisition</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Call SDK APIs to configure frame grabber parameters. See details in <a class="el" href="_xE9_x85_x8D_xE7_xBD_xAE_xE8_xAE_xBE_xE5_xA4_x87_xE5_x8F_x82_xE6_x95_xB0.html">Device Parameter Configuration</a>.</p>
<p class="endli"></p>
</li>
</ul>
</div> <div class="mainparams"> <h2 id="关闭采集卡">Step 5 Turn off the Frame Grabber</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">When the communication between frame grabber instance and physical frame grabber is no longer needed, call <a class="el" href="interface_i_interface.html#a33156589ade725f1d3347ae90486e99d" title="Turns off frame grabber.">IInterface.Close()</a> to turn off the frame grabber.</div></div><div><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">/*Turn off the frame grabber*/</span></div><div class="line"><span class="keywordtype">int</span> ret = interface.Close();</div><div class="line"><span class="keywordflow">if</span>(ret != <a class="code" href="class_mv_error.html">MvError</a>.<a class="code" href="class_mv_error.html#aae781ef0f6a59940c564cc5bcaac1792">MV_OK</a>)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Close interface fail: {0}&quot;</span>, ret);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Close interface success!&quot;</span>);</div><div class="line">}</div></div><!-- fragment --> </div> <div class="mainparams"> <h2 id="销毁采集卡实例">Step 6 Destroy Frame Grabber Instance</h2>
</div></div><div><div class="mainparams"> </div></div><div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">If the frame grabber is no longer in use, call Dispose() to destroy the frame grabber instance and release the resource.</div></div><div><div class="subparamswhite"> <dl class="section attention"><dt>Attention</dt><dd>After this API is called, the previous frame grabber instance will be invalid and cannot be used for other APIs anymore.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Destroy frame grabber instance*/</span></div><div class="line">interface.Dispose();</div><div class="line"><span class="keyword">interface </span>= null;</div></div><!-- fragment --> </div> <div class="mainparams"> <h2 id="销毁SDK资源">Step 7 Destroy SDK Resources</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Call <a class="el" href="class_s_d_k_system.html#aa54962a71ad911c8fb67f7d395049e19" title="Releases SDK resources.">SDKSystem.Finalize()</a> to destroy SDK resources.</div></div><div><div class="subparamswhite"> </div> </div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>