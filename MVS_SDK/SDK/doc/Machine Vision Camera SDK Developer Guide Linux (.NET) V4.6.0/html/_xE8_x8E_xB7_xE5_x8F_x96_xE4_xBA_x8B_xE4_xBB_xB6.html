<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- Generated by Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;Page</span></a></li>
      <li><a href="_xE5_x8F_x91_xE7_x89_x88_xE8_xAF_xB4_xE6_x98_x8E.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="usergroup0.html"><span>Programming&#160;Guide</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F_xE6_xA6_x82_xE8_xA7_x88.html"><span>Samples</span></a></li>
      <li><a href="_xE6_xB3_x95_xE5_xBE_x8B_xE5_xA3_xB0_xE6_x98_x8E.html"><span>Disclaimer</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">Event Acquisition</div> </div> </div> <div> <br />
 </div><div>There are two types of SDK events: normal notification events and exception alarm events.</div><div> <ul>
<li>
The normal notification events are sent when frame grabbers / cameras are under normal condition. </li>
<li>
The exception alarm events are sent when errors occur in the SDK and can be acquired directly from the SDK. These events are to notify users of exceptions during frame grabber / camera running (e.g., camera offline) so that users can perform troubleshooting in time. </li>
</ul>
<div class="mainparams"> <h2 id="正常通知事件">Normal Notification Event</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"></div></div><div><div class="subparamswhite"> </div></div><div><div class="subparamswhite">The normal notification event handling process: subscribe to event, enable event, get event, disable events and unsubscribe from event.</div></div><div><div class="subparamswhite"> <dl class="section attention"><dt>Attention</dt><dd>To get the normal notification events, configure the EventControl feature of the frame grabber / camera via the client. See details in the client user manual.</dd></dl>
<ol>
<li>
<p class="startli"></p>
<p class="interli"><b>Subscribe to event</b>: Call <a class="el" href="interface_i_event_grabber.html#a52cabc07f20b5bf77a3ffa501f29fa91" title="Subscribes to event.">IEventGrabber.SubscribeEvent()</a> and enter the event name eventName to subscribe to the event.</p>
<p class="interli"></p>
<p class="interli">The following two sample codes respectively show how to subscribe to frame grabber frame start event and camera exposure end event.</p>
<div class="fragment"><div class="line"><span class="comment">/*Subscribe to frame grabber frame start event*/</span></div><div class="line">interface.EventGrabber.DeviceEvent += DeviceEventGrabedHandler;</div><div class="line">interface.EventGrabber.SubscribeEvent(<span class="stringliteral">&quot;ReceiveImageFrameStart0&quot;</span>);</div></div><!-- fragment --><p> <br />
 </p><div class="fragment"><div class="line"><span class="comment">/*Subscribe to camera exposure end event*/</span></div><div class="line">device.EventGrabber.DeviceEvent += DeviceEventGrabedHandler;</div><div class="line">device.EventGrabber.SubscribeEvent(<span class="stringliteral">&quot;ExposureEnd&quot;</span>);</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Enable event</b>: Call <a class="el" href="interface_i_device.html#a284dbf57e59f32bc5ad8566a44d579c9" title="Enables the specified event.">IDevice.EventNotificationOn()</a> and <a class="el" href="interface_i_interface.html#a4a4621f8a2cb6da935c035d1a905c302" title="Enables the specified event.">IInterface.EventNotificationOn()</a> and specify the event name (eventName) to enable the specified event.</p>
<dl class="section note"><dt>Note</dt><dd>Frame grabber events can be configured via the frame grabber event configuration tool. </dd></dl>
<p>The following two sample codes respectively show how to enable frame grabber frame start event and camera exposure end event.</p>
<dl class="section note"><dt>Note</dt><dd>Frame grabber events can be configured via the client.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Enable the Channel0 frame start event of frame grabber*/</span></div><div class="line">interface.EventNotificationOn(<span class="stringliteral">&quot;ReceiveImageFrameStart0&quot;</span>);</div></div><!-- fragment --><p> <br />
 </p><div class="fragment"><div class="line"><span class="comment">/*Enable the exposure end event of camera*/</span></div><div class="line">device.EventNotificationOn(<span class="stringliteral">&quot;ExposureEnd&quot;</span>);</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Get event</b>: When the frame grabber / camera generates an event, the SDK will trigger the corresponding event callback function and push the event information to users. The pushed event information usually contains key information such as the event name, event ID, and timestamp, but not necessarily others such as frame No. and event data. Information contained in different events might vary.</p>
<dl class="section attention"><dt>Attention</dt><dd>Time-consuming operations are not recommended in the event callback function. With time-consuming operations, the subsequent event information push will be blocked.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Frame grabber / device event callback function*/</span></div><div class="line"><span class="keywordtype">void</span> DeviceEventGrabedHandler(<span class="keywordtype">object</span> sender, <a class="code" href="class_device_event_args.html">DeviceEventArgs</a> e)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;EventName[{0}], EventID[{1}]&quot;</span>, e.<a class="code" href="class_device_event_args.html#a5a4a33da877482bc61663f52b5d20f21">EventInfo</a>.<a class="code" href="interface_i_event_out_info.html#a719d2d8d7a7bf51558e39c3d666d420b">EventName</a>, e.<a class="code" href="class_device_event_args.html#a5a4a33da877482bc61663f52b5d20f21">EventInfo</a>.<a class="code" href="interface_i_event_out_info.html#ad1882599fdc6484d48e1859346649892">EventID</a>);</div><div class="line">    <span class="keywordflow">if</span> (e.<a class="code" href="class_device_event_args.html#a5a4a33da877482bc61663f52b5d20f21">EventInfo</a>.<a class="code" href="interface_i_event_out_info.html#a61c9111a321c044ee74b3cd5d514bce5">EventData</a> != <span class="keyword">null</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">//TODO: Data copy and more operations</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Disable event</b>: To disable the event, call <a class="el" href="interface_i_interface.html#a4a4621f8a2cb6da935c035d1a905c302" title="Enables the specified event.">IInterface.EventNotificationOn()</a> and <a class="el" href="interface_i_device.html#a284dbf57e59f32bc5ad8566a44d579c9" title="Enables the specified event.">IDevice.EventNotificationOn()</a>, and import the event name (eventName).</p>
<div class="fragment"><div class="line"><span class="comment">/*Disable the Channel0 frame start event of frame grabber*/</span></div><div class="line">interface.EventNotificationOff(<span class="stringliteral">&quot;ReceiveImageFrameStart0&quot;</span>);</div></div><!-- fragment --><p> <br />
 </p><div class="fragment"><div class="line"><span class="comment">/*Disable the exposure end event of camera*/</span></div><div class="line">device.EventNotificationOff(<span class="stringliteral">&quot;ExposureEnd&quot;</span>);</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Unsubscribe from event</b>: Call <a class="el" href="interface_i_event_grabber.html#a51cd6d3e025d28393c68d7b4814f2f8a" title="Unsubscribes from event.">IEventGrabber.UnSubscribeEvent()</a> and enter the event name eventName to unsubscribe from the event.</p>
<div class="fragment"><div class="line"><span class="comment">/*Unsubscribe to frame grabber frame start event*/</span></div><div class="line">interface.EventGrabber.UnSubscribeEvent(<span class="stringliteral">&quot;ReceiveImageFrameStart0&quot;</span>);</div></div><!-- fragment --><p> <br />
 </p><div class="fragment"><div class="line"><span class="comment">/*Unsubscribe to camera exposure end event*/</span></div><div class="line">device.EventGrabber.UnSubscribeEvent(<span class="stringliteral">&quot;ExposureEnd&quot;</span>);</div></div><!-- fragment -->  </li>
</ol>
</div> <div class="mainparams"> <h2 id="异常告警事件">Exception Alarm Event</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"></div></div><div><div class="subparamswhite"> </div></div><div><div class="subparamswhite">Exception alarm events can be obtained directly from the SDK. The handling process of these events: register event, get event, and cancel event.</div></div><div><div class="subparamswhite"> <ol>
<li>
<p class="startli"></p>
<p class="interli"><b>Register event</b>: Add event commission to the exception event DeviceExceptionEvent of specified instance, to complete the event registration.</p>
<div class="fragment"><div class="line"><span class="comment">/*Register exception event*/</span></div><div class="line">device.DeviceExceptionEvent += DeviceExceptionHandler;</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Get event</b>: When errors occur in the SDK, the exception event callback function will be triggered and the corresponding exception event type will be pushed to the user.</p>
<dl class="section attention"><dt>Attention</dt><dd>Time-consuming operations are not recommended in the exception event callback function. With time-consuming operations, the subsequent event information push will be blocked.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*Exception event callback function*/</span></div><div class="line"><span class="keywordtype">void</span> DeviceExceptionHandler(<span class="keywordtype">object</span> sender, <a class="code" href="class_device_exception_args.html">DeviceExceptionArgs</a> e)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Exception[{0}]&quot;</span>, e.<a class="code" href="class_device_exception_args.html#a73bfd4ad12489f22804a613fad1e77f7">MsgType</a>);</div><div class="line">    <span class="comment">// TODO: Handle exception events</span></div><div class="line">}</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Cancel event</b>: Call the device exception event DeviceExceptionEvent of frame grabber /camera instance, to cancel the event commission.</p>
<div class="fragment"><div class="line"><span class="comment">/*Cancel exception event*/</span></div><div class="line">device.DeviceExceptionEvent -= DeviceExceptionHandler;</div></div><!-- fragment -->  </li>
</ol>
</div> </div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>