<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- Generated by Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;Page</span></a></li>
      <li><a href="_xE5_x8F_x91_xE7_x89_x88_xE8_xAF_xB4_xE6_x98_x8E.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="usergroup0.html"><span>Programming&#160;Guide</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F_xE6_xA6_x82_xE8_xA7_x88.html"><span>Samples</span></a></li>
      <li><a href="_xE6_xB3_x95_xE5_xBE_x8B_xE5_xA3_xB0_xE6_x98_x8E.html"><span>Disclaimer</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">Before You Start</div> </div> </div> <div> <br />
 </div><div>Before developing your applications, learn the overview of the SDK .NET assembly, including the key classes of library, calling flow of each key class, and general calling method for APIs in the library.</div><div> <ul>
<li>
<a href="#KeyClasses">Key Class of .Net Assembly</a> </li>
<li>
<a href="#CallProcess">Basic Calling Flow</a> </li>
<li>
<a href="#GeneralCallMethod">General Calling Method</a> <ul>
<li>
<a href="#ResourceRelease">Umanaged Memory Release</a> </li>
<li>
<a href="#DeviceControl">Device Control</a> </li>
<li>
<a href="#RegisterEvent">Event Registration and Processing</a> </li>
<li>
<a href="#ErrorAndException">Error and Exception Handling</a> </li>
</ul>
</li>
</ul>
<div class="mainparams"> <h2 id="keyClasses">Key Classes of .Net Assembly</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">The following shows the key classes of the .Net assembly.</div></div><div><div class="subparamswhite"> <img src="keyClasses.png" class="img_main" width="1000" alt="" class="inline"/>
 </div></div><div><div class="subparamswhite">The definition of each class is shown below:</div></div><div><div class="subparamswhite"> <div id="tableStyle"> <ul>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_s_d_k_system.html" title="Includes APIs of SDK operation.">SDKSystem</a>: Get and configure overall SDK information.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Camera Module</p>
<ul>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_device_info.html" title="Includes parameters of device basic information.">IDeviceInfo</a>: Basic camera information class, including camera API type, model, serial No.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_device_enumerator.html" title="Includes APIs and parameters of camera enumerations, including GigE vision camera,...">DeviceEnumerator</a>: Camera enumeration class, for getting camera information (<a class="el" href="interface_i_device_info.html" title="Includes parameters of device basic information.">IDeviceInfo</a>).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_device_factory.html" title="Includes APIs for creating camera instance.">DeviceFactory</a>: Camera factory class, for creating camera instance (<a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a>).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a>: Camera control class, for controlling camera such as opening/closing camera.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_gen_t_l_manager.html" title="Includes general APIs of GenTL.">GenTLManager</a>: GenTL device control class, for loading the third-party GenTL library to control cameras on the third party frame grabber.</p>
<p class="endli"></p>
</li>
</ul>
</li>
<li>
<p class="startli"></p>
<p class="interli">Frame Grabber Module</p>
<ul>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_interface_info.html" title="Includes parameters of frame grabber.">IInterfaceInfo</a>: Basic frame grabber information class, including frame grabber API type, frame grabber ID, serial No., etc.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_interface_enumerator.html" title="Includes an API of enumerating frame grabbers.">InterfaceEnumerator</a>: Frame grabber enumeration class, for getting frame grabber information (<a class="el" href="interface_i_interface_info.html" title="Includes parameters of frame grabber.">IInterfaceInfo</a>).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="class_interface_factory.html" title="Includes APIs for creating frame grabber instances.">InterfaceFactory</a>: Frame grabber factory class, for creating frame grabber instances.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_interface.html" title="Includes APIs and parameters of frame grabber.">IInterface</a>: Frame grabber control class, for controlling frame grabber such as opening/closing frame grabber.</p>
<p class="endli"></p>
</li>
</ul>
</li>
<li>
<p class="startli"></p>
<p class="interli">Parameter and Event Module</p>
<ul>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_parameters.html" title="Includes APIs of device parameters configuration.">IParameters</a>: Parameter class, including getting/setting camera / frame grabber parameters.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_event_grabber.html" title="Includes APIs of subscribing to device event.">IEventGrabber</a>: Event class, for getting event information of camera / frame grabber.</p>
<p class="endli"></p>
</li>
</ul>
</li>
<li>
<p class="startli"></p>
<p class="interli">Image Module</p>
<ul>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_stream_grabber.html" title="Includes APIs related to image grabbing.">IStreamGrabber</a>: Streaming class, for streaming, getting one frame of image, stop streaming, etc.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_image_process.html" title="Includes APIs of image processing, such as rotation, flipping, contrast, and resolution.">IImageProcess</a>: Image processing class.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_image_decoder.html" title="Includes APIs of image decoding.">IImageDecoder</a>: Image decoding class.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_image_render.html" title="Includes APIs of image rendering and image drawing.">IImageRender</a>: Image rendering class.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_pixel_type_converter.html" title="Includes APIs of pixel format conversion.">IPixelTypeConverter</a>: Format conversion class.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_image_saver.html" title="Includes APIs of saving image data to file in BMP, JPG, PNG, and TIFF formats.">IImageSaver</a>: Image saving class.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><a class="el" href="interface_i_video_recorder.html" title="Includes APIs of recording and converting images into videos in AVI format.">IVideoRecorder</a>: Recording class.</p>
<p class="endli"></p>
</li>
</ul>
</li>
</ul>
</div> </div> <div class="mainparams"> <h2 id="CallProcess">Basic API Calling Flow</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Within the life cycle of SDK instance, the basic API calling flow of camera and frame grabber is shown as below:</div></div><div><div class="subparamswhite"> <img src="basicProcess.png" class="img_main" width="1200" alt="" class="inline"/>
 <dl class="section note"><dt>Note</dt><dd><ul>
<li>
For specific API calling flows invloved above, refer to <a class="el" href="_xE6_x8E_xA7_xE5_x88_xB6_xE9_x87_x87_xE9_x9B_x86_xE5_x8D_xA1.html">Frame Grabber Control</a> and <a class="el" href="_xE6_x8E_xA7_xE5_x88_xB6_xE7_x9B_xB8_xE6_x9C_xBA.html">Camera Control</a>.</li>
<li>
Dispose() above is a .NET API.</li>
</ul>
</dd></dl>
</div> <div class="mainparams"> <h2 id="GeneralCallMethod">General Calling Method</h2>
</div></div><div><div class="mainparams"> </div> <div class="subparamswhite"> </div></div><div><div class="subparamswhite">Before API calling, first learn the general calling methods of .NET assembly, including calling methods of unmanaged memory release, of device control, of SDK events, and of error and exception handling.</div></div><div><div class="subparamswhite"> <div class="mainparams"> <h3 id="ResourceRelease">Unmanaged Memory Release</h3>
</div></div></div><div><div class="subparamswhite"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">Many classes of .NET assembly (e.g., camera class <a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a> and frame grabber class <a class="el" href="interface_i_interface.html" title="Includes APIs and parameters of frame grabber.">IInterface</a>) apply to the system for unmanaged memory. For safe release of unmanaged memory, these classes have realized <code>System.IDispose</code>, which allows the garbage recycle mechanism of .NET framework to auto recycle the resources occupied by SDK. As there is a time lag for the garbage recycle mechanism, it is suggested to manually release the resources in time.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">Manually release resources via the following 2 methods:</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Method 1: Call Dispose() of .NET</b></p>
<p class="interli"></p>
<p class="interli">The following sample code shows how to call this API to release the unmanaged memory occupied by camera instance in time.</p>
<div class="fragment"><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">    <span class="comment">// Create the device</span></div><div class="line">    device = <a class="code" href="class_device_factory.html">DeviceFactory</a>.<a class="code" href="class_device_factory.html#a19ad2c419b04a772be6cc852467b1b68">CreateDevice</a>(deviceInfo);</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span> (Exception e)</div><div class="line">{</div><div class="line">    Console.WriteLine(e.Message);</div><div class="line">}</div><div class="line"><span class="keywordflow">finally</span></div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (device != <span class="keyword">null</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Release resources of the device</span></div><div class="line">        device.Dispose();</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Method 2: Use <code>using</code> Command</b></p>
<p class="interli"></p>
<p class="interli">After the command is executed, the .NET framework will auto call Dispose() mentioned in Method 1 to release resources.</p>
<div class="fragment"><div class="line"><span class="comment">// Create the device</span></div><div class="line"><span class="keyword">using</span> (<a class="code" href="interface_i_device.html">IDevice</a> device = <a class="code" href="class_device_factory.html">DeviceFactory</a>.<a class="code" href="class_device_factory.html#a19ad2c419b04a772be6cc852467b1b68">CreateDevice</a>(deviceInfo))</div><div class="line">{</div><div class="line">    <span class="comment">// Turn on the device</span></div><div class="line">    device.<a class="code" href="interface_i_device.html#a3d7c509521042ad1ed2addced19d0304">Open</a>();</div><div class="line"></div><div class="line">    <span class="comment">// Turn off the device</span></div><div class="line">    device.<a class="code" href="interface_i_device.html#adb72189b679fc15d5055763918547999">Close</a>();</div><div class="line">}</div></div><!-- fragment -->  </li>
</ul>
</div> <div class="mainparams"> <h3 id="DeviceControl">Device Control</h3>
</div></div></div><div><div class="subparamswhite"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">To realize the communication between the actual device and camera instance <a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a> or frame grabber instance <a class="el" href="interface_i_interface.html" title="Includes APIs and parameters of frame grabber.">IInterface</a>, the connection with the actual device should be established first to get the access permission of the actual device.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">For example, after calling <a class="el" href="class_device_factory.html#a19ad2c419b04a772be6cc852467b1b68" title="Creates a object of camera.">DeviceFactory.CreateDevice()</a> to create the camera instance <a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a>, which has not been connected with the actual device, you need to establish the connection by calling <a class="el" href="interface_i_device.html#a3d7c509521042ad1ed2addced19d0304" title="Turns on the device, and accesses the device in exclusive mode by default. For access mode details,...">IDevice.Open()</a>. After the calling succeeds, the <a class="el" href="interface_i_device.html" title="Includes general APIs and parameters of device.">IDevice</a> instance can access the camera parametersand acquire images; when communication is no longer needed, call <a class="el" href="interface_i_device.html#adb72189b679fc15d5055763918547999" title="Turns off the device.">IDevice.Close()</a> to disconnect with the device. The frame grabber instance <a class="el" href="interface_i_interface.html">IInterface</a> follows the same logics.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">// Create the device</span></div><div class="line">device = <a class="code" href="class_device_factory.html">DeviceFactory</a>.<a class="code" href="class_device_factory.html#a19ad2c419b04a772be6cc852467b1b68">CreateDevice</a>(devInfoList[devIndex]);</div><div class="line"></div><div class="line"><span class="comment">// Turn on the device to get its access</span></div><div class="line">device.<a class="code" href="interface_i_device.html#a3d7c509521042ad1ed2addced19d0304">Open</a>();</div><div class="line"></div><div class="line"><span class="comment">// Get parameters of the device</span></div><div class="line">device.<a class="code" href="interface_i_device.html#ac6c5038b94b5d23b5c85d824b69f13bf">Parameters</a>.<a class="code" href="interface_i_parameters.html#a48d03fbb2c39e14ec97696be3167b61b">GetIntValue</a>(<span class="stringliteral">&quot;Width&quot;</span>, out intValue);</div><div class="line">device.<a class="code" href="interface_i_device.html#ac6c5038b94b5d23b5c85d824b69f13bf">Parameters</a>.<a class="code" href="interface_i_parameters.html#a48d03fbb2c39e14ec97696be3167b61b">GetIntValue</a>(<span class="stringliteral">&quot;Height&quot;</span>, out intValue);</div><div class="line"></div><div class="line"><span class="comment">// Turn off the device</span></div><div class="line">device.<a class="code" href="interface_i_device.html#adb72189b679fc15d5055763918547999">Close</a>();</div></div><!-- fragment --> </div> <div class="mainparams"> <h3 id="RegisterEvent">Event Registration and Processing</h3>
</div></div></div><div><div class="subparamswhite"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">Events provided by SDK (e.g., <a class="el" href="interface_i_event_grabber.html#a5ed8274b289baa6db4587c00a5ad177d" title="Device event.">IEventGrabber.DeviceEvent</a>) are realized via the standard event of .NET. You can process SDK events via the standard event.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">Your custom event processing function can be assumed as follows:</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">// Event handling function</span></div><div class="line"><span class="keywordtype">void</span> DeviceEventGrabedHandler(<span class="keywordtype">object</span> sender, <a class="code" href="class_device_event_args.html">DeviceEventArgs</a> e)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;EventName[{0}], EventID[{1}]&quot;</span>, e.<a class="code" href="class_device_event_args.html#a5a4a33da877482bc61663f52b5d20f21">EventInfo</a>.<a class="code" href="interface_i_event_out_info.html#a719d2d8d7a7bf51558e39c3d666d420b">EventName</a>, e.<a class="code" href="class_device_event_args.html#a5a4a33da877482bc61663f52b5d20f21">EventInfo</a>.<a class="code" href="interface_i_event_out_info.html#ad1882599fdc6484d48e1859346649892">EventID</a>);</div><div class="line">}</div></div><!-- fragment --> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">The following sample code shows the logic below:</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">Register the SDK device event (+= represents registering), and process the device event via the event processing function mentioned above.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">// Register event</span></div><div class="line">device.<a class="code" href="interface_i_device.html#a22bda696b243e7da1702b7f25e9ae2fd">EventGrabber</a>.<a class="code" href="interface_i_event_grabber.html#a5ed8274b289baa6db4587c00a5ad177d">DeviceEvent</a> += DeviceEventGrabedHandler;</div></div><!-- fragment --> </div> <div class="mainparams"> <h3 id="ErrorAndException">Error and Exception Handling</h3>
</div></div></div><div><div class="subparamswhite"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div class="subparamswhite"><div class="subparamswhite">After being called, some APIs of the SDK return error codes, and others do not but throw exceptions.</div></div></div><div><div class="subparamswhite"><div class="subparamswhite"> <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Error Code</b></p>
<p class="interli"></p>
<p class="interli">After being called, most APIs of the SDK will return the int value that indicates the error code, by which you can tell if the calling succeeds. See error code definitions in the <a class="el" href="class_mv_error.html" title="Includes error codes.">MvError</a> class.</p>
<div class="fragment"><div class="line"><span class="comment">// Get information about the width of the camera</span></div><div class="line"><span class="keywordtype">int</span> ret = device.<a class="code" href="interface_i_device.html#ac6c5038b94b5d23b5c85d824b69f13bf">Parameters</a>.<a class="code" href="interface_i_parameters.html#a48d03fbb2c39e14ec97696be3167b61b">GetIntValue</a>(<span class="stringliteral">&quot;Width&quot;</span>, out intValue);</div><div class="line"><span class="keywordflow">if</span> (ret != <a class="code" href="class_mv_error.html">MvError</a>.<a class="code" href="class_mv_error.html#aae781ef0f6a59940c564cc5bcaac1792">MV_OK</a>)</div><div class="line">{</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Get Width failed:{0:x8}&quot;</span>, ret);</div><div class="line">    <span class="keywordflow">return</span>;</div><div class="line">}</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Exception Handling</b></p>
<p class="interli"></p>
<p class="interli">After the calling of some special APIs which does not return error codes (e.g., creating device and registering event), the SDK will send the exception message and you can capture the relevant exception messages via try...catch.</p>
<div class="fragment"><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">    <span class="comment">// Create the device</span></div><div class="line">    device = <a class="code" href="class_device_factory.html">DeviceFactory</a>.<a class="code" href="class_device_factory.html#a19ad2c419b04a772be6cc852467b1b68">CreateDevice</a>(devInfoList[devIndex]);</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span> (<a class="code" href="class_mv_exception.html">MvException</a> e)</div><div class="line">{</div><div class="line">    Console.WriteLine(e.Message);</div><div class="line">    Console.WriteLine(<span class="stringliteral">&quot;ErrorCode: &quot;</span> + e.<a class="code" href="class_mv_exception.html#adf02bf525fb1e46e1fbc3b49e2dfc647">ErrorCode</a>.ToString(<span class="stringliteral">&quot;X&quot;</span>));</div><div class="line">}</div><div class="line"><span class="keywordflow">finally</span></div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (device != <span class="keyword">null</span>)</div><div class="line">    {</div><div class="line">        device.Dispose();</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment -->  </li>
</ul>
</div> </div></div><div></div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>